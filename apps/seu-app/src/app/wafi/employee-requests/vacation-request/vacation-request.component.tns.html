<app-header></app-header>
  <ScrollView>
    <ActivityIndicator [busy]="isLoading" color="#6189f4" horizontalAlignment="center"></ActivityIndicator>
  
    <FlexboxLayout flexDirection="column" *ngIf="!isLoading">

      <StackLayout height="100%" *ngIf="!isLoading">
        <StackLayout>
  
          <FlexboxLayout flexDirection="column">
            <FlexboxLayout flexDirection="column">
  
              <StackLayout class="ysBox">
                <GridLayout *ngIf="msg"  rows="auto" columns="*,150">
                  <Label row="0"  colspan="2" class="ysPBox" textWrap="true" style="font-weight: 800;"
                  text='{{msg}}'></Label>
                   
                  </GridLayout>
                <GridLayout *ngIf="ddltruefalse==true"  rows="auto" columns="*,150">
                  <Label row="0"  colspan="2" class="ysPBox" textWrap="true" style="font-weight: 800;"
                  text='{{"wafi.vacationtype" | translate}} *:'></Label>
                   
                  </GridLayout>
                  <GridLayout *ngIf="ddltruefalse==true"  rows="auto" columns="*,150">
                    <Label row="1" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 

                      <DropDown horizontalAlignment="center" colspan="2"  row="1"  class="ysPBox2"
                    [items]="vacsDropDown"
                    (selectedIndexChanged)="changeVac($event)"
                    hint='{{"wafi.vacationtype" | translate}}'
                    itemsTextAlignment="center" style="text-align: center;width: 100%;" >
                  
                  </DropDown>
                    </GridLayout>

                    <GridLayout *ngIf="ddltruefalse==false"  rows="auto" columns="*,150">
                      <Label row="0"  colspan="2"   class="ysPBox2" textWrap="true" text='{{"wafi.normal" | translate}}'></Label>                                   

                      
                    </GridLayout>
               
                  <GridLayout  rows="auto"  columns="*,150">
                                  
                    <Label row="0"  column="1" class="ysPBox" textWrap="true"  style="font-weight: 800;" text='الرصيد :'></Label>
                    <Label row="0"  column="0" class="ysPBox2" textWrap="true" text="{{ vacationsbal}} يوم"></Label>                                   
                  </GridLayout>
                  <GridLayout  rows="auto"  columns="*">
                                  
                    <Label row="0"  colSpam="2" class="ysPBox" textWrap="true"  style="font-weight: 800;" text='{{"wafi.date"|translate}}'></Label>
                       
                          </GridLayout>
                          <GridLayout  rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="اختر السنه*"></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 

                            <DropDown horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="yearsDropDown"
                            (selectedIndexChanged)="changeYear($event)"
                            hint="{{'wafi.year'|translate}}"
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;" >
                          
                          </DropDown>
                          </GridLayout>
                          <GridLayout   rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="{{'wafi.day'|translate}}*"></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 
                            <DropDown horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="daysDropDown"
                            (selectedIndexChanged)="changeDay($event)"
                            hint="{{'wafi.day'|translate}}"
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;" >
                          
                          </DropDown>
                          </GridLayout>
                          <GridLayout  rows="auto"  columns="*,150">
                            <label class="ysPBox" row="0" col="1" text='{{"wafi.month"|translate}}*'></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 
                            <DropDown horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="monthesDropDown"
                            (selectedIndexChanged)="changeMonth($event)"
                            hint=' {{"wafi.month"|translate}}'
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;" >
                          
                          </DropDown>                          </GridLayout>

                          <GridLayout  rows="auto"  columns="*,150">
                            <label class="ysPBox" row="0" col="1" text="{{'wafi.timePeriod'|translate}}*"></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 

                            <DropDown horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="periodsDropDown"
                            (selectedIndexChanged)="changePeriod($event)"
                            hint=' {{"wafi.timePeriod"|translate}}'
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;"
                            *ngIf="!ddltruefalse"

                             >
                          </DropDown>
                            <TextField *ngIf="ddltruefalse"
                             class="ysPBox2" keyboardType="number" col="0" row="0" hint="{{'wafi.timePeriod'|translate}}"  [(ngModel)]='dataObject.timePeriod' ></TextField>
                          </GridLayout>

                          <GridLayout  rows="auto"  columns="*,150">
                            <label class="ng-invalid" class="ysPBox"  row="0" col="1" text="{{'wafi.compensation'|translate}}"></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 

                            <DropDown  horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="compErkabItemsDropDown"
                            (selectedIndexChanged)="changecomp($event)"
                            hint=' {{"wafi.compensation"|translate}}'
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;" class="ng-invalid" >
                          
                          </DropDown>
                          </GridLayout>



                          <GridLayout  rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="{{'wafi.altEemployee'|translate}}"></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 

                            <DropDown horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="altempDropDown"
                            (selectedIndexChanged)="changealtemp($event)"
                            hint=' {{"wafi.altEemployee"|translate}}'
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;" >
                          
                          </DropDown>
                          </GridLayout>

                          <GridLayout  rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="{{'wafi.tocountry'|translate}}"></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 

                            <DropDown horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="countryDropDown"
                            (selectedIndexChanged)="changecountry($event)"
                            hint=' {{"wafi.tocountry"|translate}}'
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;" >
                          
                          </DropDown>
                          </GridLayout>


                          <GridLayout  rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="{{'wafi.citycountry'|translate}}"></label>
                            <Label row="0" col="0" text="&#xf0d7;" style="text-align: right;margin-right: 20;color:orange;" class="fas arr-drop" android:visibility="collapsed"></Label> 

                            <DropDown horizontalAlignment="center" col="0" row="0"  class="ysPBox2"
                            [items]="cityDropDown"
                            (selectedIndexChanged)="changecity($event)"
                            hint=' {{"wafi.citycountry"|translate}}'
                            itemsTextAlignment="center" style="text-align: center ;width: 100%;" >
                          
                          </DropDown>
                          </GridLayout>


                          <GridLayout   rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="{{'wafi.vacationLoc'|translate}}"></label>
                            <TextField class="ysPBox2"  col="0" row="0"  hint=" {{'wafi.vacationLoc'|translate}}" [(ngModel)]='dataObject.vacationLoc' ></TextField>

                          </GridLayout>

                          <GridLayout   rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="{{'wafi.phone'|translate}}"></label>
                            <TextField class="ysPBox2" keyboardType="number" col="0" row="0"  hint=" {{'wafi.phone'|translate}}" [(ngModel)]='dataObject.phone' ></TextField>

                          </GridLayout>

                          <GridLayout   rows="auto"  columns="*,150">
                            <label class="ysPBox"  row="0" col="1" text="{{'wafi.notes'|translate}}"></label>
                            <TextField class="ysPBox2"  col="0" row="0"  hint=" {{'wafi.notes'|translate}}" [(ngModel)]='dataObject.notes' ></TextField>

                          </GridLayout>

                          <GridLayout rows="auto" columns="*,150">

                            <Button row="0" col="1" text='{{"wafi.Submit" | translate}}' isEnabled="{{dataObject.beginYear>0 && dataObject.beginMonth>0 && dataObject.beginDay>0 && dataObject.vacation>0  && dataObject.timePeriod>0}}"   class="ysPBox print-btn " (tap)="onFormSubmit(dataObject)" ></Button>
                            <Button row="0" col="0" text='{{"wafi.back" | translate}}'    [disabled]="submitted" class="ysPBox print-btn"  (tap)="back()"></Button>
                          </GridLayout>
                     

              </StackLayout>
            </FlexboxLayout>
          </FlexboxLayout>
        </StackLayout>
      </StackLayout>
    </FlexboxLayout>
  </ScrollView>