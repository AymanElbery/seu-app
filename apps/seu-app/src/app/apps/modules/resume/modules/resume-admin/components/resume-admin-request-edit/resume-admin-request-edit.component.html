<app-service-header title="{{'resume' | translate}}" subtitle="{{'menu.new_request_ar' | translate}}">
</app-service-header>
<seu-loader [isLoading]="isLoading"></seu-loader>
<section *ngIf="exist" class="dashboard-wrap" style="margin-top: 30px; padding: 0 30px;">
  <div class="row">
    <div class="col-md-12">
      <div class="alert alert-info text-center">
        <b>{{ "new_request_"+lang+"_page.exist" | translate}}</b>
      </div>
    </div>
  </div>
</section>
<section *ngIf="!isLoading" class="dashboard-wrap" style="margin-top: 30px; padding: 0 30px;">
  <div class="row" style="border: solid 1px #222; padding: 5px; background-color: #222; border-radius: 30px;">
    <div class="col-md-2 offset-md-10" style="text-align: left;">
        <button (click)="backToRequests()" class="btn btn-primary">{{"details_page.just_back" | translate}}</button>
    </div>
  </div>
  <form [formGroup]="addRequestForm" (ngSubmit)="onSubmit()" style="margin-top: 30px;">

    <div class="row">
      <div class="col-md-10" style="border: solid 1px #EDEDED; padding: 30px; margin-right: 20px;">
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label for="name">{{ "new_request_ar_page.name" | translate}} <span class="text-danger">*</span></label>
              <input formControlName="NAME" [(ngModel)]="request.NAME" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label for="name">{{ "new_request_ar_page.email" | translate}} <span class="text-danger">*</span></label>
              <input formControlName="EMAIL" [(ngModel)]="request.EMAIL" class="form-control" type="text">
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label for="name">{{ "new_request_ar_page.job" | translate}} <span class="text-danger">*</span></label>
              <input formControlName="JOB_TITLE" [(ngModel)]="request.JOB_TITLE" class="form-control" type="text">
            </div>
          </div>
        </div>
      </div>
    </div> 
  
    <div class="row row-form"> <!-- Education -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <div class="form-group"> 
              <legend style="font-size: 1.2em;">{{educationTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of educationTitle.items; let j = index;">
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_general" | translate}}</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.year" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_degree" | translate}}</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.degree" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form" *ngIf="experienceTitle.items.length > 0"> <!-- Experience -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <div class="form-group"> 
              <legend style="font-size: 1.2em;">{{experienceTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of experienceTitle.items; let j = index;">
                <div class="col-md-6 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_general" | translate}}</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.year" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-6 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.position" | translate}}</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.position" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form" *ngIf="committesTitle.items.length > 0"> <!-- Committees -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <div class="form-group"> 
              <legend style="font-size: 1.2em;">{{committesTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of committesTitle.items; let j = index;">
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_general" | translate}}</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.year" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.commit" | translate}}</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.commit" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form" *ngIf="organizationsTitle.items.length > 0"> <!-- organizations -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <div class="form-group"> 
              <legend style="font-size: 1.2em;">{{organizationsTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of organizationsTitle.items; let j = index;">
                <div class="col-md-6 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_general" | translate}}</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.year" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-6 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.organization" | translate}}</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.org" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form"> <!-- publishing -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <h5 style="text-align: center;">{{ "new_request_ar_page.publishing" | translate}}</h5>
            <div class="form-group" *ngIf="booksTitle.items.length > 0"> 
              <legend style="font-size: 1.2em;">{{booksTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of booksTitle.items; let j = index;">
                <div class="col-md-6 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_general" | translate}}</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.year" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.book" | translate}}</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.book" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>

            <hr>
            <div class="form-group" style="margin-top: 20px;" *ngIf="researchTitle.items.length > 0"> 
              <legend style="font-size: 1.2em;">{{researchTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of researchTitle.items; let j = index;">
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_general" | translate}}</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.year" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.research" | translate}}</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.research" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>

            <hr>
            <div class="form-group" style="margin-top: 20px;" *ngIf="workshopsTitle.items.length > 0"> 
              <legend style="font-size: 1.2em;">{{workshopsTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of workshopsTitle.items; let j = index;">
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.edu_general" | translate}}</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.year" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
                <div class="col-md-5 item">
                  <div class="form-group">
                    <label> {{ "new_request_ar_page.workshop" | translate}}</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.workshop" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form" *ngIf="socialTitle.items.length > 0"> <!-- social -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <div class="form-group"> 
              <legend style="font-size: 1.2em;">{{socialTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of socialTitle.items; let j = index;">
                <div class="col-md-11 item">
                  <div class="form-group">
                    <label>{{j+1}}.</label>
                    <input name="item{{j}}" class="form-control"  [(ngModel)]="item.text" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form" *ngIf="scienceInterestTitle.items.length > 0"> <!-- science interests -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <div class="form-group"> 
              <legend style="font-size: 1.2em;">{{scienceInterestTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of scienceInterestTitle.items; let j = index;">
                <div class="col-md-11 item">
                  <div class="form-group">
                    <label>{{j+1}}.</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.text" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form" *ngIf="otherInterestTitle.items.length > 0"> <!-- other interests -->
      <div class="col-md-12" style="padding-top: 10px;">
        <div class="row row-form">
          <div class="col-md-10 title">
            <div class="form-group"> 
              <legend style="font-size: 1.2em;">{{otherInterestTitle.text}} :</legend>
              <div class="row row-form" *ngFor="let item of otherInterestTitle.items; let j = index;">
                <div class="col-md-11 item">
                  <div class="form-group">
                    <label>{{j+1}}.</label>
                    <input name="item{{j}}" class="form-control" [(ngModel)]="item.text" [ngModelOptions]="{standalone: true}">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row row-form sub-row">
      <div class="col-md-4 offset-md-3">
        <button style="margin-top: 20px; width: 100%;" (click)="onSubmit()" type="button" class="btn sub">{{ "new_request_ar_page.save" | translate}}  <i class="fa fa-save"></i></button>
      </div>
    </div> 

  </form>

</section>